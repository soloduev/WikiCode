{% extends 'main.html' %}
{% load bootstrap3 %}
{% block page_name %}
    <div class="container" style="margin-top: 50px;">
        <div class="row">
            <br>
        </div>
    </div>
    <div class="container">
        <div class="row">
        </div>
    </div>
{% endblock %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12"
                 style="border-left: 1px solid #d5d5d5;border-right: 1px solid #d5d5d5;min-height:500px;border-bottom: 1px solid #d5d5d5;">
                <div class="row">
                    <label class="text-center btn-primary btn-block">TREE MANAGER</label>
                </div>
                <div class="row">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-4" style="border-right: 1px solid #d5d5d5;min-height:500px;">
                                <div class="row">
                                    <label class="text-center  btn-block">OVERVIEW</label>
                                </div>
                                <div class="row">
                                    <br>
                                </div>
                                <div class="row">
                                    <ul id="tree2">
                                        <!--Здесь должен располагаться сгенерированный html preview дерева-->
                                        {{ preview_tree|safe }}
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-8" style="min-height:500px;">
                                <div class="row">
                                    <label class="text-center  btn-block">EDITOR</label>
                                </div>
                                <div class="row">
                                    <br>
                                </div>
                                <div class="row">
                                    <div id="panel_inputs" class="col-md-12">
                                        <form action="{% url 'create' %}" method="post">
                                            {% csrf_token %}
                                            <div class="btn-group">
                                                <button type="button" id="add_folder_in_wiki_tree" class="btn btn-default">Add <span
                                                        class="glyphicon glyphicon-folder-open"></span></button>

                                                <button id="add_publ_in_wiki_tree" class="btn btn-default">Create <span
                                                        class="glyphicon glyphicon-list"></span></button>
                                                <input id="choose-folder-secret" content="secret" name="folder_publ" type="text" hidden value="off"/>

                                                <button type="button" class="btn btn-default">Generate <span
                                                        class="glyphicon glyphicon-bookmark"></span></button>

                                                <button type="button" class="btn btn-default">Test <span
                                                        class="glyphicon glyphicon-check"></span></button>

                                                <button type="button" class="btn btn-default">Sort <span
                                                        class="glyphicon glyphicon-sort"></span></button>

                                                <button type="button"" class="btn btn-default">Multi select <span
                                                    class="glyphicon glyphicon-collapse-down"></span></button>
                                            </div>
                                        </form>
                                    </div>
                                    <div id="div_folder_name_input" class="col-xs-12" style="display: none;">
                                        <span><h4>Add New Folder</h4></span>
                                        <div class="row">
                                            <div class="col-xs-4">
                                                <input  type="text" class="form-control" id="folder_name_input" placeholder="New Folder Name..." autofocus
                                                        style="border-radius: 0px;"/>
                                            </div>
                                            <div class="col-xs-4 text-left">
                                                <div class="btn-group">
                                                    <button id="accept_add_folder_in_wiki_tree" class="btn btn-default">Add <span
                                                            class="glyphicon glyphicon-folder-open"></span></button>
                                                    <button id="cancel_add_folder_in_wiki_tree" class="btn btn-default">Cancel <span
                                                            class="glyphicon glyphicon-remove"></span></button>
                                                </div>
                                            </div>
                                            <div class="col-xs-4">

                                            </div>

                                        </div>

                                    </div>

                                    <div class="col-md-12">
                                        <br>
                                    </div>

                                    <!--Динамическое дерево-->
                                    <div class="col-md-12">
                                        <div id="jstree">
                                            <ul>
                                                <!--Здесь должен располагаться сгенерированный html код, для динамического дерева-->
                                                {{ dynamic_tree|safe }}
                                            </ul>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
{% endblock %}

{% block add_script %}
    {% load staticfiles %}
    <script src={% static "wiki/tree_manager_scripts/actions.js"%}></script>
{% endblock %}

