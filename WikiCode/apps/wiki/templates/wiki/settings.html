<!--
    Copyright (C) 2016 Igor Soloduev <diahorver@gmail.com>

    This file is part of WikiCode.

    WikiCode is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WikiCode is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with WikiCode.  If not, see <http://www.gnu.org/licenses/>.
-->
{% extends 'main.html' %}
{% load bootstrap3 %}
{% block page_name %}
    <div class="container" style="margin-top: 50px;" >
        <div class="row">
            <br>
        </div>
    </div>
    <div class="container">
        <div class="row">
        </div>
    </div>
{% endblock %}
{% block content %}
    <div id="main-block" class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-4 col-md-4">
                <div class="row">
                    <a id="a-tree-manager" href="{% url 'tree_manager' %}"><label class="text-center btn-primary btn-block">МОИ КОНСПЕКТЫ</label></a>
                </div>
                <div class="row">
                    {% if preview_tree == None %}
                        <div class="col-xs-12 text-center">
                            <label>Дерево отсутствует</label>
                        </div>
                    {% else %}
                        <ul id="tree2">
                            <!--Здесь должен располагаться сгенерированный html preview дерева-->
                            {{ preview_tree|safe }}
                        </ul>
                    {% endif %}
                </div>
            </div>
            <div class="col-xs-12 col-sm-8 col-md-8" style="border-left: 1px solid #d5d5d5;
                 min-height: 250px;">
                <div class="row">
                    <label class="text-center btn-primary btn-block">НАСТРОЙКИ</label>
                </div>
                <div class="row">
                    <br><br><!--NICKNAME-->
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                        <h5>Ваш nickname:</h5>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-5">
                        <input class="form-control" disabled="true" style="border-radius: 0px;" value="{{ user.nickname }}">
                    </div>
                    <div class="col-xs-2 col-sm-2 col-md-2">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;"><i class="fa fa-edit"></i></a>
                    </div>
                </div>
                <div class="row">
                    <!--Email-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                        <h5>Ваш email:</h5>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-5">
                        <input class="form-control" disabled="true" style="border-radius: 0px;" value="{{ user.email }}">
                    </div>
                    <div class="col-xs-2 col-sm-2 col-md-2">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;"><i class="fa fa-edit"></i></a>
                    </div>
                </div>
                <div class="row">
                    <!--Name-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                        <h5>Ваше имя:</h5>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-5">
                        <input class="form-control" disabled="true" style="border-radius: 0px;" value="{{ user.name }}">
                    </div>
                    <div class="col-xs-2 col-sm-2 col-md-2">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;"><i class="fa fa-edit"></i></a>
                    </div>
                </div>
                <div class="row">
                    <!--Name-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                        <h5>Ваш пароль:</h5>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-5">
                        <input type="password" value="password" disabled="true" class="form-control" style="border-radius: 0px;">
                    </div>
                    <div class="col-xs-2 col-sm-2 col-md-2">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;" data-toggle="modal" data-target="#modal_edit_password"><i class="fa fa-edit"></i></a>
                    </div>
                </div>
                <div class="row">
                    <!--Name-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                        <h5>Ваш аватар:</h5>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-5">
                        <input class="form-control" disabled="true" style="border-radius: 0px;">
                    </div>
                    <div class="col-xs-2 col-sm-2 col-md-2">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;"><i class="fa fa-folder-open-o">...</i></a>
                    </div>
                </div>
                <div class="row">
                    <!--Prewiew publication-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                        <h5>Путь к Вашему превью-конспекту:</h5>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-5">
                        <input class="form-control" disabled="true" style="border-radius: 0px;" value="{{ prewiew_path_publ }}">
                    </div>
                    <div class="col-xs-2 col-sm-2 col-md-2">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;"><i class="fa fa-graduation-cap"></i>...</a>
                    </div>
                </div>
                <div class="row">
                    <!--The path for saving the default publication-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                        <h5>Путь к папке по умолчанию, для сохранения конспекта:</h5>
                    </div>
                    <div class="col-xs-4 col-sm-4 col-md-5">
                        <input class="form-control" disabled="true" style="border-radius: 0px;">
                    </div>
                    <div class="col-xs-2 col-sm-2 col-md-2">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;"><i class="fa fa-folder-open-o"></i>...</a>
                    </div>
                </div>
                <div class="row">
                    <!--Display your tree by default-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-7">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;">Задать отображение дерева по умолчанию</a>
                    </div>
                </div>
                <div class="row">
                    <!--Display your tree by default-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-7">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;">Настроить отображение личной страницы</a>
                    </div>
                </div>
                <div class="row">
                    <!--Display your tree by default-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-7">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;">Настройки параметров конспектов</a>
                    </div>
                </div>
                <div class="row">
                    <!--Display your tree by default-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-7">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;">Настройка панели управления</a>
                    </div>
                </div>
                <div class="row">
                    <!--Display your tree by default-->
                    <br>
                    <div class="col-xs-6 col-sm-6 col-md-5 text-right">
                    </div>
                    <div class="col-xs-6 col-sm-6 col-md-7">
                        <a id="wiki-style-btn" class="btn btn-block" style="border-radius: 0px;">Тема оформления WikiCode</a>
                    </div>
                </div>
                <br>
                <br>
            </div>
        </div>
    </div>

    <!-- Модальное окно указывающее, для изменения пароля -->
    <div class="modal fade" id="modal_edit_password" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Изменение пароля:</h4>
                </div>
                <form action="{% url 'repassword_user' %}" method="post" onsubmit="return validate_repassword_form();">
                    {% csrf_token %}
                    <div class="modal-body">
                        <label>Введите старый пароль</label>
                        <input id="old_password_input" type="password" name="user_password" placeholder="Старый пароль" class="form-control btn-block"  required style="border-radius: 0px;height: 30px; width: 250px;" pattern="[a-zA-Z0-9]{6,16}" maxlength="16" title="Пароль должен состоять только из букв латинского алфавита и цифр. Его длина должна находиться в диапазоне от 6 до 16 символов.">
                        <br>
                        <label>Введите новый пароль</label>
                        <input id="user_password_input" type="password" name="user_new_password" placeholder="Новый пароль" class="form-control btn-block"  required style="border-radius: 0px;height: 30px; width: 250px;" pattern="[a-zA-Z0-9]{6,16}" maxlength="16" title="Пароль должен состоять только из букв латинского алфавита и цифр. Его длина должна находиться в диапазоне от 6 до 16 символов.">
                        <br>
                        <label>Введите новый пароль снова</label>
                        <input id="user_password_repeat_input" type="password" name="user_password_repeat" placeholder="Повторите новый пароль" class="form-control btn-block"  required style="border-radius: 0px;height: 30px; width: 250px;" pattern="[a-zA-Z0-9]{6,16}" maxlength="16" title="Пароль должен состоять только из букв латинского алфавита и цифр. Его длина должна находиться в диапазоне от 6 до 16 символов.">
                        <br>
                    </div>
                    <div class="modal-footer">
                        <button id="wiki-style-btn" type="submit" class="btn">Изменить пароль</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}

{% block add_script %}
    {% load staticfiles %}
    <link href={% static "wiki/wiki_styles/settings.css" %} type="text/css" rel="stylesheet">
    <script src={% static "wiki/wiki_scripts/settings.js" %}></script>
{% endblock %}