<!--
    Copyright (C) 2016 Igor Soloduev <diahorver@gmail.com>

    This file is part of WikiCode.

    WikiCode is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    WikiCode is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with WikiCode.  If not, see <http://www.gnu.org/licenses/>.
-->
{% extends 'main.html' %}
{% load bootstrap3 %}
{% block page_name %}
    <div class="container" style="margin-top: 50px;">
        <div class="row">
            <br>
        </div>
    </div>
    <div class="container">
        <div class="row">
        </div>
    </div>
{% endblock %}
{% block content %}
    <div class="container">
        <div class="row">
            <div id="main-block"class="col-xs-12 col-sm-12 col-md-12">
                <div class="row">
                    <label class="text-center btn-primary btn-block">РЕГИСТРАЦИЯ</label>
                </div>
                <div class="row">
                    <div class="col-xs-1 col-sm-2 col-md-3 col-lg-4"></div>
                    <div id="reg-panel"class="col-xs-10 col-sm-8 col-md-6 col-lg-4">
                        <div class="container-fluid">
                            <br>
                            <form action="{% url 'create_user' %}" method="post" onsubmit="return validate_registration_form();">
                                {% csrf_token %}
                                {% if error %}
                                    <div class="row">
                                        <label style="color:red;">{{ error }}</label>
                                    </div>
                                    <br>
                                {% endif %}
                                <div class="row">
                                    <label id="wiki_email_message">Почта</label>
                                </div>
                                <div class="row">
                                    <input id="wiki_email" type="email" name="user_email" placeholder="example@example.com" class="form-control btn-block"  required style="border-radius: 0px;height: 30px;" pattern="^([a-z0-9_-]+\.)*[a-z0-9_-]+@[a-z0-9_-]+(\.[a-z0-9_-]+)*\.[a-z]{2,6}$" title="Вы неверно ввели адрес электронной почты, необходимый формат: user@mail.com">
                                </div>
                                <br>

                                <div class="row">
                                    <label>Пароль</label>
                                </div>
                                <div class="row">
                                    <input id="user_password_input" type="password" name="user_password" placeholder="Пароль" class="form-control btn-block"  required style="border-radius: 0px;height: 30px;" pattern="[a-zA-Z0-9]{6,16}" maxlength="16" title="Пароль должен состоять только из букв латинского алфавита и цифр. Его длина должна находиться в диапазоне от 6 до 16 символов.">
                                </div>
                                <br>

                                <div class="row">
                                    <label>Повторите пароль</label>
                                </div>
                                <div class="row">
                                    <input id="user_password_repeat_input" type="password" name="user_password_repeat" placeholder="Повторите пароль" class="form-control btn-block"  required style="border-radius: 0px;height: 30px;" pattern="[a-zA-Z0-9]{6,16}" maxlength="16" title="Пароль должен состоять только из букв латинского алфавита и цифр. Его длина должна находиться в диапазоне от 6 до 16 символов.">
                                </div>
                                <br>

                                <div class="row">
                                    <button id="wiki_sign_up" type="submit" class="btn btn-block"><span class="glyphicon glyphicon-ok"></span> Зарегистрироваться</button>
                                </div>
                                <div class="row">
                                    <a href="{% url 'login' %}" style="text-decoration: none;" id="wiki_code_sign_in" type="button" class="btn btn-block btn-link">У меня уже есть аккаунт</a>
                                </div>
                            </form>
                            <br>
                        </div>
                    </div>
                    <div class="col-xs-1 col-sm-2 col-md-3 col-lg-4"></div>
                </div>
                <div class="row">
                    <br><br>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block add_script %}
    {% load staticfiles %}
    <script src={% static "wiki/wiki_scripts/registration.js" %}></script>
{% endblock %}